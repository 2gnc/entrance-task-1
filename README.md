# Приложение для создания и редактирования информации о встречах сотрудников

Написано для Node.js 8 и использует библиотеки:
* express
* sequelize
* graphql

## Задание
Код содержит ошибки разной степени критичности. Некоторых из них стилистические, а некоторые даже не позволят вам запустить приложение. Вам необходимо найти и исправить их.

Пункты для самопроверки:
1. Приложение должно успешно запускаться (готово)
2. Должно открываться GraphQL IDE - http://localhost:3000/graphql/ (готово)
3. Все запросы на получение или изменения данных через graphql должны работать корректно. Все возможные запросы можно посмотреть в вкладке Docs в GraphQL IDE или в схеме (typeDefs.js) (готово)
4. Не должно быть лишнего кода (готово / лишнее назначение алиаса?)
5. Все должно быть в едином codestyle (готово)

## Запуск
```
npm i
npm run dev
```

Для сброса данных в базе:
```
npm run reset-db
```

## Список изменений

В коде было две критических ошибки (пропущенный параметр и опечатка), из-за которых не запускалось приложение. Отсутствовали возвраты из функций, 
из-за чего в graphiql не выводилась информация о созданном/обновленном событии. Был обнаружен лишний код в typeDefs.js, 
отсутствовала мутация для добавления пользователя в событие addUserToEvent, исправила скрытие переговорной 404 в выводе.
Также обнаружила и исправила еще несколько мелких ощибок, подробное описание изменений ниже и в комментариях к коммитам.

### TODO
:red_circle: Сделать запись ссылк на аватар для пользователей;
:red_circle: Написать тесты;

**/index.js**
 
Исправила опечатку в строке app.use('/graphql', graphqlRoutes); - из-за нее не запускался Qraphiql;
Добавила точку с запятой в app.use('/', pagesRoutes);
Добавила пропущенный аргумент в const sequelize = new Sequelize(...

**/graphql/resolvers/query.js**

Исправила неполное отображение комнат: return models.Room.findAll({ offset: 1 }, context); убрала offset - теперь отображаются все комнаты в тч 404-я;
Исправлена ошибка вывода событий: в возврате events вместо arguments указала литерал объекта;
Привела код к единому стилю;

**/graphql/resolvers/index.js**

В описании объекта Event: добавила возвраты значений функций - заработал вывод комнаты и пользователей эвента;
Привела код к единому стилю;

**/graphql/resolvers/mutation.js**

Исправила createEvent: указала правильные аргументы; 
Добавила  мутацию addUserToEvent (в изначальном варианте не было);
Добавила возврат event после хелпера setRoom в мутации changeEventRoom;
Привела код к единому стилю

**/graphql/typeDefs.js**
 
Исправила параметры в createEvent;
Удалила лишний лишний type UserRoom в определениях типов (typeDefs.js))